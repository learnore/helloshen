# -*- coding: utf-8 -*-
"""
-------------------------------------------------
  IDE         : PyCharm
  File Name   : dfs - å›æº¯

ğŸƒé¢˜ç›®æè¿°
å°æ¨ç”³è¯·äº†ä¸€ä¸ªä¿å¯†æŸœï¼Œä½†æ˜¯ä»–å¿˜è®°äº†å¯†ç ã€‚åªè®°å¾—å¯†ç éƒ½æ˜¯æ•°å­—ï¼Œä¸”æ‰€æœ‰æ•°å­—éƒ½æ˜¯ä¸é‡å¤çš„ã€‚

è¯·ä½ æ ¹æ®ä»–è®°ä½çš„æ•°å­—èŒƒå›´å’Œå¯†ç çš„æœ€å°æ•°å­—æ•°é‡ï¼Œå¸®ä»–ç®—ä¸‹æœ‰å“ªäº›å¯èƒ½çš„ç»„åˆï¼Œè§„åˆ™å¦‚ä¸‹ï¼š
1ã€è¾“å‡ºçš„ç»„åˆéƒ½æ˜¯ä»å¯é€‰çš„æ•°å­—èŒƒå›´ä¸­é€‰å–çš„ï¼Œä¸èƒ½é‡å¤ï¼›

2ã€è¾“å‡ºçš„å¯†ç æ•°å­—è¦æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œå¯†ç ç»„åˆéœ€è¦æŒ‰ç…§å­—æ¯é¡ºåºï¼Œä»å°åˆ°å¤§çš„é¡ºåºæ’åºã€‚

3ã€è¾“å‡ºçš„æ¯ä¸€ä¸ªç»„åˆçš„æ•°å­—çš„æ•°é‡è¦å¤§äºç­‰äºå¯†ç æœ€å°æ•°å­—æ•°é‡ï¼›

4ã€å¦‚æœå¯èƒ½çš„ç»„åˆä¸ºç©ºï¼Œåˆ™è¿”å› â€œNoneâ€

ğŸƒè¾“å…¥è¾“å‡º
è¾“å…¥
1ã€è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯å¯èƒ½çš„å¯†ç æ•°å­—åˆ—è¡¨ï¼Œæ•°å­—é—´ä»¥åŠè§’é€—å·åˆ†éš”
2ã€è¾“å…¥çš„ç¬¬äºŒè¡Œæ˜¯å¯†ç æœ€å°æ•°å­—æ•°é‡

è¾“å‡º
å¯èƒ½çš„å¯†ç ç»„åˆï¼Œæ¯ç§ç»„åˆæ˜¾ç¤ºæˆä¸€è¡Œï¼Œæ¯ä¸ªç»„åˆå†…éƒ¨çš„æ•°å­—ä»¥åŠè§’é€—å·åˆ†éš”ï¼Œä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ã€‚
è¾“å‡ºçš„ç»„åˆé—´éœ€è¦æŒ‰ç…§å­—å…¸åºæ’åºã€‚
æ¯”å¦‚ï¼š2,3 ,4æ”¾åˆ°2 ,4çš„å‰é¢

ğŸƒæ ·ä¾‹1
è¾“å…¥
2,3,4
2
è¾“å‡ºï¼š
2,3
2,3,4
2,4
3,4
è¯´æ˜ï¼š
æœ€å°å¯†ç æ•°æœ€æ˜¯ä¸¤ä¸ª,å¯èƒ½æœ‰ä¸‰ç§ç»„åˆ:
2,3
2,4
3,4
ä¸‰ä¸ªå¯†ç æœ‰ä¸€ç§:2,3,4

ğŸƒæ ·ä¾‹2
è¾“å…¥
1,2,3,4,5
3
è¾“å‡º
1,2,3
1,2,3,4
1,2,3,4,5
1,2,3,5
1,2,4
1,2,4,5
1,2,5
1,3,4
1,3,4,5
1,3,5
1,4,5
2,3,4
2,3,4,5
2,3,5
2,4,5
3,4,5

  Description : 
  Summary     : 1ã€å›æº¯ = dfs
                2ã€
                3ã€
  Author      : chenyushencc@gmail.com
  date        : 2024/1/21 16:31
-------------------------------------------------
"""
import copy


def backtrack(n, path, choice):
    """
    å›æº¯ - ç©·ä¸¾
    """
    if len(path) >= n:
        path = copy.deepcopy(path)
        results.append(path)
        # è¿™é‡Œä¸ç”¨returnï¼Œå› ä¸ºåªè¦æ˜¯æ»¡è¶³ len(path) >= n éƒ½å¯ä»¥åŠ å…¥
        # åŠ äº† return å°±åªè¿”å› len(path) == n çš„æ•°ç»„äº†

    for i in choice:        # ç»§ç»­åœ¨é€‰æ‹©åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ª
        if i in path or (len(path) and i < max(path)):       # æ’é™¤å·²ç»é€‰æ‹©çš„ ä¸” åªè¦é€æ­¥å¢é•¿çš„
            continue

        path.append(i)      # åšé€‰æ‹©
        backtrack(n, path, choice)
        path.remove(i)      # æ’¤é”€é€‰æ‹©


if __name__ == "__main__":
    input_list = list(map(int, input().split(",")))
    n = int(input())
    input_list.sort(key=lambda x: x, reverse=False)

    results = []
    backtrack(n, [], input_list)
    for i in results:
        print(",".join([str(j) for j in i]))

